(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const m of s.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();let u=0,p=0,i=0,g=!0;const d=document.getElementById("question"),b=document.getElementById("answers"),M=document.getElementById("score"),L=document.getElementById("streak"),O=document.getElementById("progress"),f=document.getElementById("message"),h=document.getElementById("correct-sound"),I=document.getElementById("wrong-sound"),v=document.getElementById("mode"),k=document.getElementById("high-score"),E=document.getElementById("music"),P=document.getElementById("sound"),A=new URLSearchParams(window.location.search),y=A.get("mode");v.value=y??"mul10";function C(){let e,t,n;switch(y){case"add10":e=r(1,10),t=r(1,10),n=e+t,d.textContent=`${e} + ${t} = ?`;break;case"add20":e=r(1,20),t=r(1,20),n=e+t,d.textContent=text`${e} + ${t} = ?`;break;case"add50":e=r(1,50),t=r(1,50),n=e+t,d.textContent=`${e} + ${t} = ?`;break;case"mul5":e=r(1,5),t=r(1,5),n=e*t,d.textContent=`${e} × ${t} = ?`;break;case"mul10":default:e=r(1,10),t=r(1,10),n=e*t,d.textContent=`${e} × ${t} = ?`;break}const c=_(n);q(c,n)}function _(e){let t=[e];for(;t.length<6;){let n=e+r(-10,10);n!==e&&n>0&&!t.includes(n)&&t.push(n)}return G(t)}function q(e,t){b.innerHTML="",e.forEach(n=>{const c=document.createElement("button");c.classList.add("answer-button"),c.textContent=n,c.addEventListener("click",()=>H(n,t,c)),b.appendChild(c)})}function H(e,t,n){if(g){g=!1,d.textContent=d.textContent.replace("?",t);var c=1e3;e===t?(u+=10,p+=1,i+=5,f.textContent=T(),h.play(),n.style.backgroundColor="#4caf50"):(c=4e3,u=0,p=0,f.textContent="Try Again!",I.play(),n.style.backgroundColor="#f44336",R(t)),$(),N(),setTimeout(()=>{g=!0,f.textContent="",C()},c)}}function S(){const e=["back4.webp","back3.webp","back2.webp","back1.webp"],t=Math.floor(Math.random()*e.length),n=e[t];document.body.style.backgroundImage=`url('images/backgrounds/${n}')`}function N(){i>=100&&(S(),i=0),O.style.width=`${i}%`}function R(e){document.querySelectorAll(".answer-button").forEach(n=>{parseInt(n.textContent)===e&&(n.style.backgroundColor="#4caf50")})}function T(){const e=["Awesome!","Super Star!","Math Genius!","Great Job!","Well Done!"];return e[r(0,e.length-1)]}function r(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function G(e){return e.sort(()=>Math.random()-.5)}var B=0;function w(){return B}function x(e){B=e}S(),C(),$();window.addEventListener("beforeunload",()=>{const e=w();(!e||u>parseInt(e))&&x(u)});document.getElementById("music");document.getElementById("sound");let a=!1;const l=new Audio("sounds/background.mp3");l.loop=!0;window.addEventListener("load",()=>{const e=w();e&&(k.textContent=`High Score ${e}`)});function $(){M.textContent=`Score ${u} `,L.textContent=`Streak ${p} `;const e=w();(!e||u>parseInt(e))&&(x(u),k.textContent=`High Score ${u} `)}function D(){a=!a,a?(l.play(),E.src="images/Icon_MusicOn.png"):(l.pause(),E.src="images/Icon_MusicOff.png")}function F(){const e=h.muted;h.muted=!e,I.muted=!e,P.src=e?"images/Icon_SoundOn.png":"images/Icon_SoundOff.png"}function J(){window.location.href="index.html"}document.addEventListener("click",()=>{a||(l.play(),a=!0)},{once:!0});window.BackClick=J;window.MusicClick=D;window.SoundClick=F;
